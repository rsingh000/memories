{"ast":null,"code":"var _jsxFileName = \"/Users/mac2018/Desktop/react/projects/memories_project/client/src/components/Auth/Auth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Avatar, Button, Paper, Grid, Typography, Container, TextField } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { useDispatch } from 'react-redux';\nimport Input from './Input';\nimport useStyles from './styles';\nimport { GoogleOAuthProvider, GoogleLogin, googleLogout } from '@react-oauth/google';\nimport Icon from './Icon';\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Auth = () => {\n  _s();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [isSignup, setIsSignup] = useState(false);\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleSubmit = () => {};\n\n  const handleChange = () => {};\n\n  const handleShowPassword = () => setShowPassword(prevShowPassword => !prevShowPassword);\n\n  const switchMode = () => {\n    setIsSignup(prevIsSignup => !prevIsSignup);\n    handleShowPassword(false);\n  };\n\n  const googleSuccess = async res => {\n    const token = res === null || res === void 0 ? void 0 : res.credential;\n    const result = jwt_decode(token);\n\n    try {\n      dispatch({\n        type: 'AUTH',\n        data: {\n          result,\n          token\n        }\n      });\n      history.push('/');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const googleFailure = error => {\n    console.log(error);\n    console.log('Google Sign-in was unsuccessful. Please try again!');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      elevation: 3,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.avatar,\n        children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: isSignup ? 'Sign Up' : 'Sign In'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [isSignup && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              name: \"firstName\",\n              label: \"First Name\",\n              handleChange: handleChange,\n              autoFocus: true,\n              half: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"firstName\",\n              label: \"First Name\",\n              handleChange: handleChange,\n              half: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"email\",\n            label: \"Email Address\",\n            handleChange: handleChange,\n            type: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"password\",\n            label: \"Password\",\n            handleChange: handleChange,\n            type: showPassword ? \"text\" : \"password\",\n            handleShowPassword: handleShowPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), isSignup && /*#__PURE__*/_jsxDEV(Input, {\n            name: \"confirmPassword\",\n            label: \"Repeat Password\",\n            handleChange: handleChange,\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          className: classes.submit,\n          children: isSignup ? 'Sign Up' : 'Sign In'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GoogleOAuthProvider, {\n          clientId: \"157305944726-b3gm011oo4moosok453vku7qepaktual.apps.googleusercontent.com\",\n          children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n            onSuccess: credentialResponse => {\n              googleSuccess(credentialResponse);\n            },\n            onError: googleFailure,\n            size: \"large\",\n            width: \"100%\",\n            className: classes.googleButton\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justify: \"flex-end\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: switchMode,\n              children: isSignup ? \"Already have an account?\" : \"Don't have an account! Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Auth, \"bEfeVM9tZKerkDFw97W98lwhr8c=\", false, function () {\n  return [useStyles, useDispatch, useHistory];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","useState","Avatar","Button","Paper","Grid","Typography","Container","TextField","LockOutlinedIcon","useDispatch","Input","useStyles","GoogleOAuthProvider","GoogleLogin","googleLogout","Icon","jwt_decode","useHistory","Auth","showPassword","setShowPassword","isSignup","setIsSignup","classes","dispatch","history","handleSubmit","handleChange","handleShowPassword","prevShowPassword","switchMode","prevIsSignup","googleSuccess","res","token","credential","result","type","data","push","error","console","log","googleFailure","paper","avatar","form","submit","credentialResponse","googleButton"],"sources":["/Users/mac2018/Desktop/react/projects/memories_project/client/src/components/Auth/Auth.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Avatar, Button, Paper, Grid, Typography, Container, TextField } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { useDispatch } from 'react-redux';\nimport Input from './Input';\nimport useStyles from './styles';\nimport { GoogleOAuthProvider, GoogleLogin, googleLogout } from '@react-oauth/google';\nimport Icon from './Icon';\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from 'react-router-dom';\n\nconst Auth = () => {\n\n    const [showPassword, setShowPassword] = useState(false);\n    const [isSignup, setIsSignup] = useState(false);\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const history = useHistory();\n\n    const handleSubmit = () => {\n\n    };\n\n    const handleChange = () => {\n\n    };\n\n    const handleShowPassword = () => setShowPassword((prevShowPassword) => !prevShowPassword);\n\n    const switchMode = () => {\n      setIsSignup((prevIsSignup) => !prevIsSignup);\n      handleShowPassword(false); \n    }\n\n    const googleSuccess = async (res) => {\n\n      const token = res?.credential;\n      const result = jwt_decode(token);\n\n      try {\n        dispatch({ type: 'AUTH', data: { result, token }});\n\n        history.push('/');\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    const googleFailure = (error) => {\n      console.log(error);\n      console.log('Google Sign-in was unsuccessful. Please try again!')\n    };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Paper className={classes.paper} elevation={3}>\n        <Avatar className={classes.avatar} >\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography variant=\"h5\" >{isSignup ? 'Sign Up' : 'Sign In'}</Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <Grid container spacing={3}>\n            {\n              isSignup && (\n                <>\n                  <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange} autoFocus half />\n                  <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange}  half />\n                </>\n              )\n            }\n            <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\n            <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? \"text\" : \"password\"} handleShowPassword={handleShowPassword} />\n            { isSignup && (\n              <Input name=\"confirmPassword\" label=\"Repeat Password\" handleChange={handleChange} type=\"password\"/>\n            )}\n          </Grid>\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\n            { isSignup ? 'Sign Up' : 'Sign In'}\n          </Button>\n          <GoogleOAuthProvider \n            clientId='157305944726-b3gm011oo4moosok453vku7qepaktual.apps.googleusercontent.com'\n          >\n            <GoogleLogin onSuccess={credentialResponse => {googleSuccess(credentialResponse)}} \n                onError={googleFailure}\n                size=\"large\"\n                width='100%'\n                className={classes.googleButton}\n            />\n          </GoogleOAuthProvider>\n          <Grid container justify=\"flex-end\">\n              <Grid item>\n                <Button onClick={switchMode}>{ isSignup ? \"Already have an account?\" : \"Don't have an account! Sign up\"}</Button>\n              </Grid>\n          </Grid>\n        </form>\n\n      </Paper>\n\n    </Container>\n  )\n}\n\nexport default Auth"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,KAAzB,EAAgCC,IAAhC,EAAsCC,UAAtC,EAAkDC,SAAlD,EAA6DC,SAA7D,QAA8E,mBAA9E;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,UAAtB;AACA,SAASC,mBAAT,EAA8BC,WAA9B,EAA2CC,YAA3C,QAA+D,qBAA/D;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAEf,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCpB,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAMuB,OAAO,GAAGZ,SAAS,EAAzB;EACA,MAAMa,QAAQ,GAAGf,WAAW,EAA5B;EAEA,MAAMgB,OAAO,GAAGR,UAAU,EAA1B;;EAEA,MAAMS,YAAY,GAAG,MAAM,CAE1B,CAFD;;EAIA,MAAMC,YAAY,GAAG,MAAM,CAE1B,CAFD;;EAIA,MAAMC,kBAAkB,GAAG,MAAMR,eAAe,CAAES,gBAAD,IAAsB,CAACA,gBAAxB,CAAhD;;EAEA,MAAMC,UAAU,GAAG,MAAM;IACvBR,WAAW,CAAES,YAAD,IAAkB,CAACA,YAApB,CAAX;IACAH,kBAAkB,CAAC,KAAD,CAAlB;EACD,CAHD;;EAKA,MAAMI,aAAa,GAAG,MAAOC,GAAP,IAAe;IAEnC,MAAMC,KAAK,GAAGD,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEE,UAAnB;IACA,MAAMC,MAAM,GAAGpB,UAAU,CAACkB,KAAD,CAAzB;;IAEA,IAAI;MACFV,QAAQ,CAAC;QAAEa,IAAI,EAAE,MAAR;QAAgBC,IAAI,EAAE;UAAEF,MAAF;UAAUF;QAAV;MAAtB,CAAD,CAAR;MAEAT,OAAO,CAACc,IAAR,CAAa,GAAb;IACD,CAJD,CAIE,OAAOC,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD;EACF,CAZD;;EAcA,MAAMG,aAAa,GAAIH,KAAD,IAAW;IAC/BC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACAC,OAAO,CAACC,GAAR,CAAY,oDAAZ;EACD,CAHD;;EAKF,oBACE,QAAC,SAAD;IAAW,SAAS,EAAC,MAArB;IAA4B,QAAQ,EAAC,IAArC;IAAA,uBACE,QAAC,KAAD;MAAO,SAAS,EAAEnB,OAAO,CAACqB,KAA1B;MAAiC,SAAS,EAAE,CAA5C;MAAA,wBACE,QAAC,MAAD;QAAQ,SAAS,EAAErB,OAAO,CAACsB,MAA3B;QAAA,uBACE,QAAC,gBAAD;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,UAAD;QAAY,OAAO,EAAC,IAApB;QAAA,UAA2BxB,QAAQ,GAAG,SAAH,GAAe;MAAlD;QAAA;QAAA;QAAA;MAAA,QAJF,eAKE;QAAM,SAAS,EAAEE,OAAO,CAACuB,IAAzB;QAA+B,QAAQ,EAAEpB,YAAzC;QAAA,wBACE,QAAC,IAAD;UAAM,SAAS,MAAf;UAAgB,OAAO,EAAE,CAAzB;UAAA,WAEIL,QAAQ,iBACN;YAAA,wBACE,QAAC,KAAD;cAAO,IAAI,EAAC,WAAZ;cAAwB,KAAK,EAAC,YAA9B;cAA2C,YAAY,EAAEM,YAAzD;cAAuE,SAAS,MAAhF;cAAiF,IAAI;YAArF;cAAA;cAAA;cAAA;YAAA,QADF,eAEE,QAAC,KAAD;cAAO,IAAI,EAAC,WAAZ;cAAwB,KAAK,EAAC,YAA9B;cAA2C,YAAY,EAAEA,YAAzD;cAAwE,IAAI;YAA5E;cAAA;cAAA;cAAA;YAAA,QAFF;UAAA,gBAHN,eASE,QAAC,KAAD;YAAO,IAAI,EAAC,OAAZ;YAAoB,KAAK,EAAC,eAA1B;YAA0C,YAAY,EAAEA,YAAxD;YAAsE,IAAI,EAAC;UAA3E;YAAA;YAAA;YAAA;UAAA,QATF,eAUE,QAAC,KAAD;YAAO,IAAI,EAAC,UAAZ;YAAuB,KAAK,EAAC,UAA7B;YAAwC,YAAY,EAAEA,YAAtD;YAAoE,IAAI,EAAER,YAAY,GAAG,MAAH,GAAY,UAAlG;YAA8G,kBAAkB,EAAES;UAAlI;YAAA;YAAA;YAAA;UAAA,QAVF,EAWIP,QAAQ,iBACR,QAAC,KAAD;YAAO,IAAI,EAAC,iBAAZ;YAA8B,KAAK,EAAC,iBAApC;YAAsD,YAAY,EAAEM,YAApE;YAAkF,IAAI,EAAC;UAAvF;YAAA;YAAA;YAAA;UAAA,QAZJ;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAgBE,QAAC,MAAD;UAAQ,IAAI,EAAC,QAAb;UAAsB,SAAS,MAA/B;UAAgC,OAAO,EAAC,WAAxC;UAAoD,KAAK,EAAC,SAA1D;UAAoE,SAAS,EAAEJ,OAAO,CAACwB,MAAvF;UAAA,UACI1B,QAAQ,GAAG,SAAH,GAAe;QAD3B;UAAA;UAAA;UAAA;QAAA,QAhBF,eAmBE,QAAC,mBAAD;UACE,QAAQ,EAAC,0EADX;UAAA,uBAGE,QAAC,WAAD;YAAa,SAAS,EAAE2B,kBAAkB,IAAI;cAAChB,aAAa,CAACgB,kBAAD,CAAb;YAAkC,CAAjF;YACI,OAAO,EAAEL,aADb;YAEI,IAAI,EAAC,OAFT;YAGI,KAAK,EAAC,MAHV;YAII,SAAS,EAAEpB,OAAO,CAAC0B;UAJvB;YAAA;YAAA;YAAA;UAAA;QAHF;UAAA;UAAA;UAAA;QAAA,QAnBF,eA6BE,QAAC,IAAD;UAAM,SAAS,MAAf;UAAgB,OAAO,EAAC,UAAxB;UAAA,uBACI,QAAC,IAAD;YAAM,IAAI,MAAV;YAAA,uBACE,QAAC,MAAD;cAAQ,OAAO,EAAEnB,UAAjB;cAAA,UAA+BT,QAAQ,GAAG,0BAAH,GAAgC;YAAvE;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QA7BF;MAAA;QAAA;QAAA;QAAA;MAAA,QALF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AA+CD,CA1FD;;GAAMH,I;UAIcP,S,EACCF,W,EAEDQ,U;;;KAPdC,I;AA4FN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}