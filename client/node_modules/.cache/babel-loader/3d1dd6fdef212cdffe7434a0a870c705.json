{"ast":null,"code":"import _toConsumableArray from\"/Users/mac2018/Desktop/react/projects/memories_project/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/mac2018/Desktop/react/projects/memories_project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{FETCH_ALL,FETCH_POST,CREATE,UPDATE,DELETE,LIKE,COMMENT,FETCH_BY_SEARCH,START_LOADING,END_LOADING}from'../constants/actionTypes';export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isLoading:true,posts:[]};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case START_LOADING:return _objectSpread(_objectSpread({},state),{},{isLoading:true});case END_LOADING:return _objectSpread(_objectSpread({},state),{},{isLoading:false});case LIKE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===action.payload._id?action.payload:post;})});case COMMENT:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){if(post._id===action.payload._id){return action.payload;}return post;})});case DELETE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(post){return post._id!==action.payload;})});case FETCH_ALL:return _objectSpread(_objectSpread({},state),{},{posts:action.payload.data,currentPage:action.payload.currentPage,numberOfPages:action.payload.numberOfPages});case FETCH_BY_SEARCH:return _objectSpread(_objectSpread({},state),{},{posts:action.payload});case FETCH_POST:return _objectSpread(_objectSpread({},state),{},{post:action.payload});case CREATE:return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[action.payload])});case UPDATE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===action.payload._id?action.payload:post;})});default:return state;}});","map":{"version":3,"names":["FETCH_ALL","FETCH_POST","CREATE","UPDATE","DELETE","LIKE","COMMENT","FETCH_BY_SEARCH","START_LOADING","END_LOADING","state","isLoading","posts","action","type","map","post","_id","payload","filter","data","currentPage","numberOfPages"],"sources":["/Users/mac2018/Desktop/react/projects/memories_project/client/src/reducers/posts.js"],"sourcesContent":["import { FETCH_ALL, FETCH_POST, CREATE, UPDATE, DELETE, LIKE, COMMENT, FETCH_BY_SEARCH, START_LOADING, END_LOADING } from '../constants/actionTypes';\n\nexport default (state= { isLoading: true, posts: []}, action) => {\n    switch(action.type) {\n        case START_LOADING:\n            return { ...state, isLoading: true};\n        case END_LOADING:\n            return { ...state, isLoading: false};\n        case LIKE: \n            return { ...state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post))}\n        case COMMENT: \n            return {\n                ...state,\n                posts: state.posts.map((post) => {\n                    if(post._id === action.payload._id) {\n                        return action.payload;\n                    }\n                    return post;\n                })\n            }\n        case DELETE:\n            return { ...state, posts: state.posts.filter((post) => post._id !== action.payload)};\n        case FETCH_ALL:\n            return { ...state, posts: action.payload.data, currentPage: action.payload.currentPage, numberOfPages: action.payload.numberOfPages };\n        case FETCH_BY_SEARCH: \n            return { ...state, posts: action.payload};\n        case FETCH_POST: \n            return { ...state, post: action.payload};\n        case CREATE:\n            return {...state, posts: [ ...state.posts, action.payload]};\n        case UPDATE: \n            return { ...state, posts: state.posts.map((post) => post._id === action.payload._id ? action.payload : post)};\n        default:\n            return state;\n    }\n}"],"mappings":"6SAAA,OAASA,SAAT,CAAoBC,UAApB,CAAgCC,MAAhC,CAAwCC,MAAxC,CAAgDC,MAAhD,CAAwDC,IAAxD,CAA8DC,OAA9D,CAAuEC,eAAvE,CAAwFC,aAAxF,CAAuGC,WAAvG,KAA0H,0BAA1H,CAEA,eAAe,UAAkD,IAAjDC,MAAiD,2DAA1C,CAAEC,SAAS,CAAE,IAAb,CAAmBC,KAAK,CAAE,EAA1B,CAA0C,IAAXC,OAAW,2CAC7D,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKN,cAAL,CACI,sCAAYE,KAAZ,MAAmBC,SAAS,CAAE,IAA9B,GACJ,IAAKF,YAAL,CACI,sCAAYC,KAAZ,MAAmBC,SAAS,CAAE,KAA9B,GACJ,IAAKN,KAAL,CACI,sCAAYK,KAAZ,MAAmBE,KAAK,CAAEF,KAAK,CAACE,KAAN,CAAYG,GAAZ,CAAgB,SAACC,IAAD,QAAWA,KAAI,CAACC,GAAL,GAAaJ,MAAM,CAACK,OAAP,CAAeD,GAA5B,CAAkCJ,MAAM,CAACK,OAAzC,CAAmDF,IAA9D,EAAhB,CAA1B,GACJ,IAAKV,QAAL,CACI,sCACOI,KADP,MAEIE,KAAK,CAAEF,KAAK,CAACE,KAAN,CAAYG,GAAZ,CAAgB,SAACC,IAAD,CAAU,CAC7B,GAAGA,IAAI,CAACC,GAAL,GAAaJ,MAAM,CAACK,OAAP,CAAeD,GAA/B,CAAoC,CAChC,MAAOJ,OAAM,CAACK,OAAd,CACH,CACD,MAAOF,KAAP,CACH,CALM,CAFX,GASJ,IAAKZ,OAAL,CACI,sCAAYM,KAAZ,MAAmBE,KAAK,CAAEF,KAAK,CAACE,KAAN,CAAYO,MAAZ,CAAmB,SAACH,IAAD,QAAUA,KAAI,CAACC,GAAL,GAAaJ,MAAM,CAACK,OAA9B,EAAnB,CAA1B,GACJ,IAAKlB,UAAL,CACI,sCAAYU,KAAZ,MAAmBE,KAAK,CAAEC,MAAM,CAACK,OAAP,CAAeE,IAAzC,CAA+CC,WAAW,CAAER,MAAM,CAACK,OAAP,CAAeG,WAA3E,CAAwFC,aAAa,CAAET,MAAM,CAACK,OAAP,CAAeI,aAAtH,GACJ,IAAKf,gBAAL,CACI,sCAAYG,KAAZ,MAAmBE,KAAK,CAAEC,MAAM,CAACK,OAAjC,GACJ,IAAKjB,WAAL,CACI,sCAAYS,KAAZ,MAAmBM,IAAI,CAAEH,MAAM,CAACK,OAAhC,GACJ,IAAKhB,OAAL,CACI,sCAAWQ,KAAX,MAAkBE,KAAK,8BAAOF,KAAK,CAACE,KAAb,GAAoBC,MAAM,CAACK,OAA3B,EAAvB,GACJ,IAAKf,OAAL,CACI,sCAAYO,KAAZ,MAAmBE,KAAK,CAAEF,KAAK,CAACE,KAAN,CAAYG,GAAZ,CAAgB,SAACC,IAAD,QAAUA,KAAI,CAACC,GAAL,GAAaJ,MAAM,CAACK,OAAP,CAAeD,GAA5B,CAAkCJ,MAAM,CAACK,OAAzC,CAAmDF,IAA7D,EAAhB,CAA1B,GACJ,QACI,MAAON,MAAP,CA9BR,CAgCH,CAjCD"},"metadata":{},"sourceType":"module"}